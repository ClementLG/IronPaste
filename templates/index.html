{% extends "layout.html" %}
{% block content %}
<div class="paste-form">
    <div class="field">
        <div class="control">
            <textarea id="content-input" class="textarea" placeholder="Paste your text, code, or logs here..."></textarea>
        </div>
    </div>
    
    <div class="columns is-variable is-2">
        <div class="column">
            <div class="field">
                <label for="expiration-select" class="label">Auto-delete after:</label>
                <div class="control">
                    <div class="select is-fullwidth">
                        <select id="expiration-select">
                            <option value="3600">1 Hour</option>
                            <option value="86400">1 Day</option>
                            <option value="604800">1 Week</option>
                            <option value="2592000">1 Month</option>
                            <option value="0">Never</option>
                        </select>
                    </div>
                </div>
            </div>
        </div>

        <div class="column">
            <div class="field">
                <label for="language-select" class="label">Language:</label>
                <div class="control">
                    <div class="select is-fullwidth">
                        <select id="language-select">
                            <option value="text" selected>Plain Text</option>
                            <option value="auto">Auto-detect</option>
                            <option value="python">Python</option>
                            <option value="javascript">JavaScript</option>
                            <option value="html">HTML</option>
                            <option value="css">CSS</option>
                        </select>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="column">
            <div class="field">
                <label class="label">Deletion Condition:</label>
                <div class="control">
                    <label class="checkbox">
                        <input type="checkbox" id="burn-after-reading-checkbox">
                        Burn after reading
                    </label>
                </div>
            </div>
        </div>
        
        <div class="column is-half">
            <div class="field">
                <label for="password-input" class="label">Password (optional):</label>
                <div class="field has-addons">
                    <div class="control is-expanded">
                        <input type="password" id="password-input" class="input" placeholder="Leave blank for a public paste">
                    </div>
                    <div class="control">
                        <button class="button" id="toggle-password-visibility" aria-label="Toggle password visibility">
                            <span class="icon is-small">
                                <i class="fas fa-eye"></i>
                            </span>
                        </button>
                    </div>
                    <div class="control">
                        <button id="generate-password-btn" class="button is-info">Generate</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="no-password-warning" class="notification is-warning is-light is-hidden">
        <strong>Warning:</strong> You have not set a password. The content will be saved in plain text and will not be encrypted.
    </div>

    <div class="field">
        <div class="control">
            <button id="create-btn" class="button is-primary is-fullwidth">Create Paste</button>
        </div>
    </div>
</div>

<div id="result" class="notification is-success is-light is-hidden">
    <h3 class="title is-4">Paste Created!</h3>
    <p>Share this URL. You can choose whether to include the password in the copied link.</p>
    <div class="field">
        <div class="control">
            <input type="text" id="result-url" class="input" readonly>
        </div>
    </div>
    
    <div id="include-password-container" class="is-hidden mt-3">
        <label class="checkbox">
            <input type="checkbox" id="include-password-checkbox">
            Include password in URL (less secure)
        </label>
        <p id="password-warning" class="help is-warning is-hidden">
            Warning: Including the password in the URL is convenient but less secure. It may be stored in browser history or server logs.
        </p>
    </div>
    
    <div class="field mt-3">
        <div class="control">
            <button id="copy-btn" class="button is-info">Copy URL</button>
        </div>
    </div>
</div>
{% endblock %}